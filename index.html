<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizador de Algoritmos</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    
    <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>

    <!-- Pseudocode JS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pseudocode@latest/build/pseudocode.min.css">
    <script src="https://cdn.jsdelivr.net/npm/pseudocode@latest/build/pseudocode.min.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="app-container">
        
        <!-- BARRA LATERAL -->
        <nav id="sidebar-nav">
            <div class="nav-header">
                <h3>B√∫squeda en redes</h3>
            </div>
            <div class="nav-items">
                <a href="#" class="nav-link active" data-page="introduccion">
                    <span>üëã</span> Introducci√≥n
                </a>
                <a href="#" class="nav-link" data-page="algoritmo">
                    <span>‚öôÔ∏è</span> Algoritmo
                </a>
                <a href="#" class="nav-link" data-page="mapa">
                    <span>üó∫Ô∏è</span> Visualizaci√≥n
                </a>
                <a href="#" class="nav-link" data-page="estadisticas">
                    <span>üìä</span> Estad√≠sticas
                </a>
                <a href="#" class="nav-link" data-page="referencias">
                    <span>üìö</span> Referencias
                </a>
                <div class="nav-group">
                    <div class="nav-link parent-toggle">
                        <span>üìÇ</span> Ap√©ndice
                        <span class="arrow-icon">‚ñº</span>
                    </div>

                    <div class="nav-submenu">
                        <a href="#" class="nav-link sub-link" data-page="calculo-b">
                            <span>üßÆ</span> C√°lculo de B
                        </a>
                        <a href="#" class="nav-link sub-link" data-page="futuro">
                            <span>üöÄ</span> Trabajo Futuro
                        </a>
                    </div>
                </div>
            </div>
        </nav>

        <!-- √ÅREA PRINCIPAL -->
        <main id="content-area">
            
            <div id="introduccion-view" class="view-section active">
    
                <div class="intro-hero">
                    <h1>Bienvenido al Visualizador de B√∫squeda en Redes con incertidumbre</h1>
                    <p class="intro-subtitle">
                        Explora c√≥mo los algoritmos de muestreo greedy identifican nodos cr√≠ticos en grafos dirigidos ac√≠clicos.
                    </p>
                </div>

                <div class="intro-section motivation-box">
                    <h2>üí° Motivaci√≥n</h2>
                    <p>
                        Durante el brote de COVID-19, la vigilancia de aguas servidas se convirti√≥ en una herramienta crucial para detectar y monitorear la propagaci√≥n del virus en comunidades.
                        Sin embargo, las redes de alcantarillado son complejas y a menudo inciertas, lo que dificulta la identificaci√≥n r√°pida de fuentes de infecci√≥n.
                        Limitado por recursos, es esencial desarrollar estrategias eficientes para muestrear estas redes y localizar nodos infectados con el menor n√∫mero de exploraciones posibles, tanto en cantidad de muestras como en tiempo.
                    </p>
                </div>

                <hr class="section-divider">

                <div class="intro-section news-section">
                    <h2>üì∞ Noticias y Contexto</h2>

                    <div class="news-card reverse">
                        <div class="news-content">
                            <h3>Exitoso plan piloto en Chill√°n: Detectan presencia de COVID-19 en aguas servidas</h3>
                            <p>
                                En los laboratorios de la Universidad de Concepci√≥n se obtuvieron los primeros resultados positivos del an√°lisis de aguas servidas en Chill√°n para la detecci√≥n temprana de posibles focos de COVID-19. 
                            </p>
                            <a href="https://youtu.be/Hd2uDd3VINc?si=vdgtmpsGvaoGK0IX" target="_blank" class="read-more-link">
                                Ver video completo
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                    <polyline points="12 5 19 12 12 19"></polyline>
                                </svg>
                            </a>
                        </div>
                        <div class="news-visual">
                            <div class="news-video">
                                <iframe 
                                    width="560" 
                                    height="315"
                                    src="https://www.youtube.com/embed/Hd2uDd3VINc?si=gOGjHqunt42OyNE9"
                                    title="YouTube video player"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    referrerpolicy="strict-origin-when-cross-origin"
                                    allowfullscreen>
                                </iframe>
                            </div>
                        </div>
                    </div>

                    <div class="news-card">
                        <div class="news-content">
                            <h3>Innovador proyecto que analiz√≥ aguas residuales mostr√≥ las variantes que m√°s circulan en Chile, c√≥mo es capaz de detener brotes y anticipar hasta en cinco d√≠as aparici√≥n de s√≠ntomas</h3>
                            <p>
                                Las aguas servidas que corren bajo nuestros pies contienen informaci√≥n importante que hoy permite detectar la presencia de Sars-CoV-2 en una zona determinada y dirigir la pesquisa con test PCR hacia ese sector adel√°ntandose al brote. El objetivo final de la iniciativa es crear una red de laboratorios en el pa√≠s, para hacer vigilancia activa de virus, bacterias, f√°rmacos y drogas.
                            </p>
                            <a href="https://www.latercera.com/que-pasa/noticia/innovador-proyecto-que-analizo-aguas-residuales-mostro-las-variantes-que-mas-circulan-en-chile-como-es-capaz-de-detener-brotes-y-anticipar-hasta-en-cinco-dias-aparicion-de-sintomas/Q72PT6YQSJBTRGIABZQUCCVCCQ/" target="_blank" class="read-more-link">
                                Leer noticia completa
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                    <polyline points="12 5 19 12 12 19"></polyline>
                                </svg>
                            </a>
                        </div>
                        <div class="news-visual">
                            <img src="assets/noticias/noticia_2.png" alt="Noticia La Tercera" style="width: 40%; height: auto;">
                        </div>
                    </div>

                    <div class="news-card reverse">
                        <div class="news-content">
                            <h3>¬øPara qu√© sirve el monitoreo de aguas residuales?</h3>
                            <p>
                                Los an√°lisis de aguas residuales aportan datos importantes sobre agentes pat√≥genos. En Alemania, por ejemplo, se descubri√≥ recientemente el virus de la polio gracias al monitoreo. ¬øPor qu√© es un m√©todo eficaz?
                            </p>
                            <a href="https://www.dw.com/es/virus-y-bacterias-para-qu√©-sirve-el-monitoreo-de-aguas-residuales/a-71126749" target="_blank" class="read-more-link">
                                Leer noticia completa
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                    <polyline points="12 5 19 12 12 19"></polyline>
                                </svg>
                            </a>
                        </div>
                        <div class="news-visual">
                            <img src="assets/noticias/noticia_3.png" alt="Noticia La Tercera" style="width: 60%; height: auto;">
                        </div>
                    </div>                   
                </div>

                <hr class="section-divider">

                <div class="uncertainty-explainer-section" style="margin-top: 40px; margin-bottom: 40px;">
                    <h2>¬øQu√© es la Incertidumbre Estructural?</h2>

                    <div class="algo-theory-section">
                        <div class="theory-card">
                            <h3>üò∂‚Äçüå´Ô∏è Incertidumbre</h3>
                            <p>
                                En muchas redes reales, no estamos 100% seguros de si todas las conexiones est√°n operativas en un momento dado.
                                Muchas de ellas est√°n solo para raros casos de lluvias intensas o mantenimiento, y no siempre sabemos si est√°n abiertas o cerradas.
                                <br>
                                Ejemplificamos este fen√≥meno en la siguiente visualizaci√≥n interactiva de la red de San Pedro de la Paz (SPPD). Donde las l√≠neas rojas representan posibles conexiones adicioneles.
                            </p>
                        </div>
                    </div>

                    <div class="uncertainty-widget">
                        
                        <div class="u-images-container">
                            <img src="assets/SPPD/grafo_incertidumbre_full.png" class="u-state-img active" id="u-img-1" alt="Grafo con m√°xima incertidumbre">
                            
                            <img src="assets/SPPD/grafo_incertidumbre_medio.png" class="u-state-img" id="u-img-2" alt="Grafo con incertidumbre media">
                            
                            <img src="assets/SPPD/grafo_incertidumbre_min.png" class="u-state-img" id="u-img-3" alt="Grafo base seguro">
                        </div>

                        <div class="u-controls">
                            <button class="control-btn u-btn active" data-target="u-img-1">1. Red Completa</button>
                            <button class="control-btn u-btn" data-target="u-img-2">2. Arcos Extras</button>
                            <button class="control-btn u-btn" data-target="u-img-3">3. Red Limpia</button>
                        </div>
                        
                        <p style="text-align: center; font-size: 0.9rem; color: #64748b; margin-top: 10px;">
                            <small>Haz clic en los botones para simular c√≥mo la incertidumbre afecta la estructura de la red.</small>
                        </p>

                    </div>
                </div>

                <hr class="section-divider">
            </div>

            <div id="algoritmo-view" class="view-section">
                <h1>B√∫squeda de infecciones</h1>

                <div class="algo-theory-section">
                    <div class="theory-card">
                        <h3>üéØ Objetivo</h3>
                        <p>
                            Una estrategia que minimice el n√∫mero de d√≠as para detectar un brote en una red de alcantarillado, bajo un presupuesto limitado de exploraciones.
                        </p>
                    </div>
                    <div class="theory-card">
                        <h3>üß† Asunciones</h3>
                        <ul>
                            <li>La red se represenseta con un grafo dirigido $G = (V,E)$ con ra√≠z en la planta de tratamiento de aguas servidas.</li>
                            <li>Hay un solo nodo infectado.</li>
                            <li>El presupuesto limita la cantidad de muestras $k$ que podemos hacer cada d√≠a.</li>
                        </ul>
                    </div>
                </div>

                <hr class="section-divider">

                <div class="algo-example-section">
                    <h2>Conceptualizaci√≥n</h2>

                    <div class="algo-theory-section">
                        <div class="theory-card">
                            <h3>ü§î ¬øC√≥mo se encuentra un nodo infectado?</h3>
                            <p>
                                <ul>
                                    <li> Al muestrear un nodo $v$, si el resultado es positivo, sabemos que el nodo infectado est√° en el subgrafo $J_v$ (todos los nodos que pasan estrictamente por $v$).
                                    Si el resultado es negativo, descartamos $J_v$ del espacio de b√∫squeda. </li>
                                    <li> El objetivo es maximizar la incertidumbre resuelta en cada muestreo, es decir, reducir el espacio de b√∫squeda a la mitad en cada ronda. </li>
                                    <li> Necesitamos selecciona nodos que cubran la mayor cantidad de nodos no cubiertos previamente, dentro de un corte ideal que no exceda $B$. </li>
                                </ul>
                            </p>
                        </div>
                    </div>

                    <h3>Ejemplo Conceptual</h3>
                    <p>
                        Visualiza la correspondencia entre la exploraci√≥n del grafo y la toma de decisiones. 
                        Lo siguiente es un caso en el que se hacen muestras, y dependiendo de su resultado nos movemos por su √°rbol de desici√≥n.
                    </p>
                    
                    <div class="algo-controls simple-centered-controls">
    
                    <div class="controls-top-row">
                        <button id="ex-btn-prev" class="control-btn fixed-btn">‚èÆ Anterior</button>
                        <div class="step-display">
                            Paso <span id="ex-step-number">0</span>
                        </div>
                        <button id="ex-btn-next" class="control-btn fixed-btn">Siguiente ‚è≠</button>
                    </div>

                    <div class="controls-bottom-row">
                        <span id="ex-step-desc">Cargando descripci√≥n...</span>
                    </div>

                </div>

                    <div class="example-grid">
                        <div class="example-box">
                            <h4>Grafo de B√∫squeda</h4>
                            <p>Hay un nodo infectado que no sabemos d√≥nde est√°.</p>
                            <div id="ex-graph-container" style="height: 300px; background: #f8fafc; border: 1px solid #cbd5e1; border-radius: 4px;"></div>
                        </div>

                        <div class="example-box">
                            <h4>√Årbol de Decisi√≥n</h4>
                            <p>¬øFluye la infecci√≥n por este nodo?</p>
                            <div id="ex-tree-container" style="height: 300px; background: #f8fafc; border: 1px solid #cbd5e1; border-radius: 4px;"></div>
                        </div>
                    </div>
                </div>

                <hr class="section-divider">
                
                <div class="algo-efficiency-section">
                    <h2>Eficiencia de la b√∫squeda conceptual</h2>
                    <p>
                        La eficiencia de una b√∫squeda realizada con la idea anterior no demora m√°s de:
                    </p>
                    <div class="efficiency-box">
                        $$ O(\Delta \cdot \log(n)) $$
                    </div>
                    <p>
                        Donde $\Delta$ es el grado m√°ximo del grafo y $n$ el n√∫mero de nodos. Pero se puede mejorar a√∫n m√°s usando un algoritmo greedy que minimice la profundidad del √°rbol de decisi√≥n.
                    </p>
                </div>

                <hr class="section-divider">

                <div class="algo-interactive-section">
                    <h2>Algoritmo Greedy</h2>
                    <p>
                        A continuaci√≥n, se presente una visualizaci√≥n interactiva del algoritmo greedy propuesto para la selecci√≥n de nodos a muestrear.
                        Observa c√≥mo se actualizan las variables internas y c√≥mo se modifica el grafo a medida que avanzas en los pasos del algoritmo.
                        Por el momento no nos preocupamos del c√°lculo de $B$, solo del funcionamiento del algoritmo greedy con un $B$ fijo 
                        (para m√°s informaci√≥n, revisa <a href="#" class="internal-link" data-target="calculo-b">C√°lculo de $B$</a>).
                    </p>
                    
                    <div class="algo-controls simple-centered-controls">
                        <div class="controls-top-row">
                            <button id="algo-btn-prev" class="control-btn fixed-btn">Anterior</button>
                            <div class="step-display">
                                Paso <span id="algo-step-number">0</span>
                            </div>
                            <button id="algo-btn-next" class="control-btn fixed-btn">Siguiente</button>
                        </div>

                        <div class="controls-bottom-row">
                            <span id="algo-step-desc">Estado Inicial</span>
                        </div>
                    </div>

                    <div class="interactive-grid">
                        <div class="code-column">
                            <pre id="greedy_algorithm" class="pseudocode">
\begin{algorithm}
\caption{Greedy Sampling Algorithm}
\begin{algorithmic}
\INPUT A directed acyclic graph $G = (N,F)$ with root $r$, a natural number $k$ and a natural number $B$.
\OUTPUT A set $S$ of $k+1$ nodes to sample with $S \ni r$
\STATE $S = \{r\}$
\WHILE{$|S| \leq k+1$}
    \STATE aux = -1
    \STATE auxv = $-\infty$
    \FOR{$v$ in $N \setminus S$}
        \STATE $J = |J_v(G) \setminus \bigcup_{u \in (S \setminus \{r\})} J_u(G)|$
        \IF{auxv $\leq J \leq B$}
            \STATE aux = $v$
            \STATE auxv = $J$
        \ENDIF
    \ENDFOR
    \IF{aux $\neq -1$}
        \STATE $S = S \cup \{\text{aux}\}$
    \ELSE
        \STATE break
    \ENDIF
\ENDWHILE
\RETURN $S$
\end{algorithmic}
\end{algorithm}
                            </pre>
                            <div id="algo-variables" class="variables-panel">
                                <h3>üîç Monitor de Variables</h3>
                                <div class="vars-grid">
                                    
                                    <div class="var-card">
                                        <span class="var-name">S</span>
                                        <span id="var-S" class="var-value">{}</span>
                                    </div>

                                    <div class="var-card">
                                        <span class="var-name">aux</span>
                                        <span id="var-aux" class="var-value">NULL</span>
                                    </div>

                                    <div class="var-card">
                                        <span class="var-name">auxv</span>
                                        <span id="var-auxv" class="var-value">NULL</span>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="vis-column">
                            <div id="grafo-container"></div>
                        </div>
                    </div>
                </div>

                <hr class="section-divider">
            </div>

            <div id="mapa-view" class="view-section">
                
                <!-- Contenedor del Mapa -->
                <div id="map-container"></div>

                <!-- Panel de Controles Flotante -->
                <div class="controls-overlay">
                    <div class="control-header">
                        <span id="step-indicator">Paso: 0 / 0</span>
                    </div>
                    
                    <div class="slider-container">
                        <input type="range" id="sim-slider" min="0" max="100" value="0" disabled>
                    </div>

                    <div class="buttons-row">
                        <button id="btn-prev" class="control-btn">‚èÆ Anterior</button>
                        <button id="btn-play" class="control-btn">‚ñ∂ Reproducir</button>
                        <button id="btn-next" class="control-btn">Siguiente ‚è≠</button>
                    </div>

                    <div id="step-description" class="step-info-box">
                        Cargando datos...
                    </div>
                </div>

            </div>

            <div id="estadisticas-view" class="view-section">
                <div class="intro-hero">
                    <h1>Resultados Experimentales</h1>
                    <p class="intro-subtitle">
                        Evaluaci√≥n del desempe√±o del algoritmo propuesto en redes de alcantarillado reales y sint√©ticas.
                    </p>
                </div>

                <div class="results-container">

                    <div class="result-card">
                        <div class="result-header">
                            <h3>Distribuci√≥n de Tiempos de Detecci√≥n en SPPD</h3>
                            <span class="badge-experiment">Experimento 1</span>
                        </div>
                        
                        <div class="chart-wrapper">
                            <img src="assets/stats/histograma_5_incertidumbre.png" alt="Histograma de resultados" class="zoomable-image">
                            <div class="zoom-hint">üîç Clic para ampliar</div>
                        </div>

                        <div class="analysis-box">
                            <h4>üí° Interpretaci√≥n de los datos</h4>
                            <p>
                                La figura muestra la distribuci√≥n del n√∫mero de d√≠as necesarios para detectar el brote en la red completa de San Pedro de la Paz.
                                Se comparan tres m√©tricas (Media, Percentil 90 y M√°ximo) variando el n√∫mero de muestras ($k=1, 5, 10$).
                            </p>
                            <ul class="stat-list">
                                <li>
                                    <strong>Reducci√≥n de Tiempos:</strong> Se observa una reducci√≥n considerable en el n√∫mero de d√≠as necesarios para hallar el nodo infectados mientras mayor es el n√∫mero de muestras.
                                </li>
                                <li>
                                    <strong>Reducci√≥n de Varianza:</strong> Al aumentar el n√∫mero de muestras a 10, la dispersi√≥n de los d√≠as disminuye significativamente comparado con una sola muestra.
                                </li>
                                <li>
                                    <strong>Peores casos:</strong> En la salud p√∫blica nos interesa mucho el manejo del peor caso. Aqu√≠, al aumentar $k$, el m√°ximo n√∫mero de d√≠as para detectar el brote disminuye dr√°sticamente, pasando de $\ge 70$ con $k=1$, a $\le 10$ con $k=10$.
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="result-card">
                        <div class="result-header">
                            <h3>Comparaci√≥n de la eficiencia con y sin incertidumbre en SPPD</h3>
                            <span class="badge-experiment">Experimento 2</span>
                        </div>
                        
                        <div class="chart-wrapper">
                            <img src="assets/stats/comparacion_incertidumbre.png" alt="Histograma de resultados" class="zoomable-image">
                            <div class="zoom-hint">üîç Clic para ampliar</div>
                        </div>

                        <div class="analysis-box">
                            <h4>üí° Interpretaci√≥n de los datos</h4>
                            <p>
                                La figura muestra la comparaci√≥n del desempe√±o del algoritmo greedy en la red de San Pedro de la Paz bajo dos escenarios: con incertidumbre estructural (5% de arcos extra) y sin incertidumbre.
                                Se presentan tres m√©tricas (Media, Percentil 90 y M√°ximo) con un n√∫mero de muestras fijo ($k=5$).
                            </p>
                            <ul class="stat-list">
                                <li>
                                    <strong>Medias similares:</strong> Se observa que las medias de los tiempos de detecci√≥n son bastante similares entre ambos escenarios (diferencia de 0.04 d√≠as), indicando que el algoritmo mantiene su eficiencia promedio incluso con incertidumbre.
                                </li>
                                <li>
                                    <strong>Variaci√≥n del peor caso:</strong> El peor caso (m√°ximo) muestra una diferencia m√°s notable, la media var√≠a aproximadamente en 2.5 d√≠as. Esto sugiere que la incertidumbre puede afectar la robustez del algoritmo en situaciones extremas.
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="result-card">
                        <div class="result-header">
                            <h3>Diferencia absoluta para una red aleatoria con y sin incertidumbre</h3>
                            <span class="badge-experiment">Experimento 3</span>
                        </div>
                        
                        <div class="chart-wrapper">
                            <img src="assets/stats/grafo_aleatorio_comp.png" alt="Histograma de resultados" class="zoomable-image">
                            <div class="zoom-hint">üîç Clic para ampliar</div>
                        </div>

                        <div class="analysis-box">
                            <h4>üí° Interpretaci√≥n de los datos</h4>
                            <p>
                                La figura muestra la diferencia absoluta en d√≠as para detectar el nodo infectado en una red aleatoria con 4000 nodos y varios niveles de incertidumbre (5, 10 y 20%).
                                Se presentan tres m√©tricas (Media, Percentil 90 y M√°ximo) con un n√∫mero de muestras fijo ($k=5$).
                            </p>
                            <ul class="stat-list">
                                <li>
                                    <strong>Robustez:</strong> De forma similar al experimento anterior, las medias de los tiempos de detecci√≥n muestran diferencias peque√±as entre los escenarios con y sin incertidumbre.
                                    Para 5% de incertidumbre, la diferencia de medias es solo de 0.33 d√≠as, es decir, solo unas cuantas horas. Sugiriendo que el algoritmo es robusto en promedio.
                                </li>
                                <li>
                                    <strong>Tope en la incertidumbre:</strong> Al aumentar la incertidumbre estructural, las estad√≠sticas no empeoran significativamente.
                                    El cambio entre 10 y 20% de incertidumbre es m√≠nimo, indicando que el algoritmo puede manejar niveles moderados de incertidumbre sin una degradaci√≥n sustancial en el desempe√±o.
                                </li>
                                <li>
                                    <strong>El algoritmo funciona:</strong> Estos resultados proporcionan evidencia suficiente de que el algoritmo greedy propuesto es efectivo incluso en presencia de incertidumbre estructural en la red,
                                    muy cercano a como si fuera una red sin incertidumbre.
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>

                <div id="image-modal" class="modal">
                    <span class="close-modal">&times;</span>
                    <img class="modal-content" id="img01">
                    <div id="caption"></div>
                </div>
            </div>

            <div id="referencias-view" class="view-section">
                <h1>Referencias</h1>

                <div class="references-list">
                    
                    <div class="reference-card">
                        <h3>Identifying outbreaks in sewer networks: An adaptive sampling scheme under network‚Äôs uncertainty</h3>
                        <div class="ref-grid">
                            <span class="ref-label">Autores</span>
                            <span class="ref-value">Jos√© Baboun, Isabelle S. Beaudry, Luis M. Castro, Felipe Gutierrez, Alejandro Jara, Benjamin Rubio, Jos√© Verschae</span>

                            <span class="ref-label">Publicado</span>
                            <span class="ref-value">2024</span>

                            <span class="ref-label">URL</span>
                            <a href="https://www.pnas.org/doi/full/10.1073/pnas.2316616121" class="ref-link" target="_blank">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: text-bottom; margin-right: 4px;">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                    <polyline points="15 3 21 3 21 9"></polyline>
                                    <line x1="10" y1="14" x2="21" y2="3"></line>
                                </svg>
                                https://www.pnas.org/doi/full/10.1073/pnas.2316616121
                            </a>
                        </div>
                    </div>

                    <div class="reference-card">
                        <h3>Searching for infections: algorithms for multiple sampling on trees and planar graphs</h3>
                        <div class="ref-grid">
                            <span class="ref-label">Autores</span>
                            <span class="ref-value">Rubio Orellana, Benjam√≠n Eduardo</span>

                            <span class="ref-label">Publicado</span>
                            <span class="ref-value">2023</span>

                            <span class="ref-label">URL</span>
                            <a href="https://repositorio.uc.cl/handle/11534/75255" class="ref-link" target="_blank">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: text-bottom; margin-right: 4px;">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                    <polyline points="15 3 21 3 21 9"></polyline>
                                    <line x1="10" y1="14" x2="21" y2="3"></line>
                                </svg>
                                https://repositorio.uc.cl/handle/11534/75255
                            </a>
                        </div>
                    </div>

                    <div class="reference-card">
                        <h3>Complexity, lower bounds, and algorithms for searching infected nodes in uncertain trees</h3>
                        <div class="ref-grid">
                            <span class="ref-label">Autores</span>
                            <span class="ref-value">Baboun Larach, Jos√©</span>

                            <span class="ref-label">Publicado</span>
                            <span class="ref-value">2023</span>

                            <span class="ref-label">URL</span>
                            <a href="https://repositorio.uc.cl/handle/11534/75114" class="ref-link" target="_blank">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: text-bottom; margin-right: 4px;">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                    <polyline points="15 3 21 3 21 9"></polyline>
                                    <line x1="10" y1="14" x2="21" y2="3"></line>
                                </svg>
                                https://repositorio.uc.cl/handle/11534/75114
                            </a>
                        </div>
                    </div>

                    <div class="reference-card">
                        <h3>Covid-Sewage-Search</h3>
                        <div class="ref-grid">
                            <span class="ref-label">Autores</span>
                            <span class="ref-value">Baboun Larach, Jos√©</span>

                            <span class="ref-label">Publicado</span>
                            <span class="ref-value">2023</span>

                            <span class="ref-label">URL</span>
                            <a href="https://github.com/josebaboun/Covid-Sewage-Search" class="ref-link" target="_blank">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="vertical-align: text-bottom; margin-right: 4px;">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                    <polyline points="15 3 21 3 21 9"></polyline>
                                    <line x1="10" y1="14" x2="21" y2="3"></line>
                                </svg>
                                https://github.com/josebaboun/Covid-Sewage-Search
                            </a>
                        </div>
                    </div>

                </div>
            </div>

            <div id="calculo-b-view" class="view-section">
                <div class="intro-hero">
                    <h1>C√°lculo Din√°mico de $B$</h1>
                    <p class="intro-subtitle">
                        Estrategia de limitaci√≥n del espacio de b√∫squeda para garantizar eficiencia logar√≠tmica.
                    </p>
                </div>

                <div class="algo-theory-section">
                    <div class="theory-card">
                        <h3>üìâ El Problema de un l√≠mite superior</h3>
                        <p>
                            Si elegimos un $B$ muy alto, el algoritmo selecciona nodos que cubren casi toda la red, descartando muy pocos candidatos en cada iteraci√≥n en caso de que la infecci√≥n se encuentre lejos de la ra√≠z.
                            Si $B$ es muy bajo, la cobertura es insuficiente para avanzar r√°pido.
                        </p>
                    </div>
                    <div class="theory-card">
                        <h3>‚öñÔ∏è La Soluci√≥n: Bisecci√≥n</h3>
                        <p>
                            Buscamos reducir el espacio de candidatos realizando una b√∫squeda binaria sobre los posibles valores de $B$.
                            Esto garantiza que en cada ronda se descarte aproximadamente la mitad de los nodos restantes, optimizando la eficiencia de la b√∫squeda. 
                        </p>
                    </div>
                </div>

                <div class="code-column" style="max-width: 800px; margin: 0 auto;">
                    <h3>Pseudoc√≥digo para B</h3>
                    <pre class="pseudocode">
\begin{algorithm}
\caption{C√°lculo Din√°mico de B}
\begin{algorithmic}
\INPUT Grafo $G = (N,F)$ dirigido ac√≠clico con ra√≠z $r$ de los candidatos no descartados para una ronda dada.
\OUTPUT Mejor $B$ para la ronda actual

\STATE $l = 0$
\STATE $r = |N|$
\WHILE{$l < r$}
    \STATE $mid = \lfloor (l + r) / 2 \rfloor$
    \STATE Ejecutar Greedy con $B = mid$ para obtener conjunto $S$
    \IF{$|I_r(G) \setminus (\bigcup_{u \in S} J_u(G))| \leq mid$}
        \STATE $r = mid$
    \ELSE
        \STATE $l = mid + 1$
    \ENDIF
\ENDWHILE
\STATE $B = l$
\RETURN $B$
\end{algorithmic}
\end{algorithm}
                    </pre>
                    <div class="analysis-box" style="margin-top: 20px;">
                        <p>
                            <strong>Nota:</strong> Es posible fijar $B = |N|/2$, para simplificar la implementaci√≥n del algoritmo.
                            Sin embargo, el enfoque de bisecci√≥n encuentra el valor √≥ptimo para cada ronda, mejorando la eficiencia en cada paso considerablemente.
                        </p>
                    </div>
                </div>
            </div>

            <div id="futuro-view" class="view-section">
                <h1>Trabajo Futuro</h1>
                
                <div class="intro-section news-section">
                    <div class="news-card">
                        <div class="news-content">
                            <h3>Adaptaci√≥n a m√∫ltiples nodos infectados</h3>
                            <p>
                                Actualmente, el algoritmo asume que s√≥lo hay un nodo infectado. Una extensi√≥n natural es considerar m√∫ltiples nodos infectados simult√°neamente.
                                Esto requerir√≠a adaptar la estrategia de muestreo para identificar todas las fuentes de infecci√≥n en la red, lo que conlleva desaf√≠os adicionales en la optimizaci√≥n del presupuesto de muestreo.
                            </p>
                        </div>
                        <div class="news-visual">
                            <img src="assets/futuro/red.png" alt="red" style="width: 60%; height: auto;">
                        </div>
                    </div>

                    <div class="news-card reverse">
                        <div class="news-content">
                            <h3>Adaptaci√≥n a infecciones din√°micas</h3>
                            <p>
                                En escenarios reales, las infecciones pueden propagarse y cambiar con el tiempo. 
                                La infeccion puede moverse a otro nodo o desaparecer por completo, lo que requiere un enfoque din√°mico para la detecci√≥n.
                                Adaptar el algoritmo para manejar infecciones din√°micas implicar√≠a desarrollar estrategias de muestreo que consideren la evoluci√≥n temporal de la infecci√≥n en la red.
                            </p>
                        </div>
                        <div class="news-visual">
                            <img src="assets/futuro/corona.png" alt="corona" style="width: 50%; height: auto;">
                        </div>
                    </div>

                    <div class="news-card">
                        <div class="news-content">
                            <h3>Ruido de las muestras</h3>
                            <p>
                                Una de las asunciones del modelo actual es que las muestras son perfectas, es decir, que no hay falsos positivos ni falsos negativos, por lo que las muestras siempre son confiables.
                                La f√≠sica/biolog√≠a del problema puede introducir ruido en las muestras, lo que afectar√≠a la precisi√≥n de la detecci√≥n.
                                Incorporar modelos de ruido en las muestras y adaptar el algoritmo para manejar esta incertidumbre adicional es otro gran paso para hacer el modelo m√°s realista y aplicable a situaciones del mundo real.
                            </p>
                        </div>
                        <div class="news-visual">
                            <img src="assets/futuro/muestra.png" alt="muestra" style="width: 50%; height: auto;">
                        </div>
                    </div>
                </div>
                <hr class="section-divider">
            </div>
        </main>
    </div>

    <!-- SCRIPTS -->

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- Network JS -->
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    
    <!-- App Logic -->
    <script src="js/state.js"></script>
    <script src="js/vis_leaflet.js"></script>
    <script src="js/vis_algorithm.js"></script>
    <script src="js/vis_example.js"></script>
    <script src="js/main.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "\\[", right: "\\]", display: true},
                    {left: "$", right: "$", display: false},
                    {left: "\\(", right: "\\)", display: false}
                ],
                throwOnError : false
            });
        });
    </script>
</body>
</html>